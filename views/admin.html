<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - File Manager</title>
    <link rel="stylesheet" href="/public/css/admin.css"></head>
<body>
<div class="container">
    <h1>File Manager</h1>

    <div class="breadcrumb">
        <a href="/admin">Home</a>
        <?= $breadcrumbs ?>
    </div>

    <div class="upload-form">
        <h3>Upload File</h3>
        <form method="post" enctype="multipart/form-data">
            <input type="file" name="upload">
            <button type="submit" class="btn btn-primary">Upload</button>
        </form>
    </div>

    <div class="upload-form">
        <h3>Create Folder</h3>
        <form method="post">
            <input type="text" name="folder_name" placeholder="Folder name" required>
            <input type="hidden" name="dir" value="$currentDir">
            <button type="submit" name="new_folder" class="btn btn-success">Create</button>
        </form>
    </div>

    <table class="file-table">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Size</th>
            <th>Modified</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <?= $filesHtml ?>
        </tbody>
    </table>

    <div id="editorModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Edit File</h2>
            <form method="post" id="editorForm">
                <input type="hidden" name="file" id="editFileName">
                <input type="hidden" name="dir" value="$currentDir">
                <textarea class="editor" name="content" id="editorContent"></textarea>
                <button type="submit" name="edit_content" class="btn btn-primary">Save</button>
            </form>
        </div>
    </div>

    <script src="/js/admin.js"></script>
</div>
</body>
</html>